# 消融实验 - 去除位置编码
# 验证位置编码的重要性

experiment_name: "no_positional"

# 模型配置
d_model: 256
num_heads: 8
num_encoder_layers: 4
num_decoder_layers: 4
d_ff: 1024
dropout: 0.1
max_len: 512
use_positional_encoding: false  # 不使用位置编码

# 训练配置
batch_size: 16
learning_rate: 3e-4
num_epochs: 15  # 主实验15轮触发早停，消融实验同样设为15轮
warmup_steps: 500
label_smoothing: 0.1
seed: 42
device: "auto"  # 自动检测设备

# 梯度累积配置
gradient_accumulation_steps: 2

# 早停配置
early_stopping_patience: 5
early_stopping_min_delta: 0.0

# 数据配置
dataset_name: "knkarthick/samsum"
vocab_size: 8000
tokenizer_path: "tokenizer.json"
max_src_len: 512
max_tgt_len: 128

# 其他配置
save_dir: "results/ablation/no_positional"
log_interval: 50  # 训练日志打印间隔
max_grad_norm: 1.0  # 梯度裁剪
